{"ast":null,"code":"var _jsxFileName = \"/home/bebeto/Documentos/MDS/ObraCerta/front/src/pages/AtualizarPerfil/index.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Button from '../../components/Button';\nimport Input from '../../components/Input';\nimport Footer from '../../components/Footer';\nimport GlobalStyle from './styles';\nimport Space from '../../components/Space';\nimport Input2Mask from '../../components/InputMask';\n\nclass AtualizarPerfil extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDescricaoChange = event => {\n      this.setState({\n        description: event.target.value\n      });\n    };\n\n    this.handlePhoneChange = event => {\n      this.setState({\n        phone: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      var valid = this.validate();\n      const headers = {\n        'content-type': 'application/json'\n      };\n\n      if (valid) {\n        axios.post(this.url, this.userData, headers).then(response => {\n          this.props.handleLogin(response.data.dados);\n          localStorage.setItem(\"token\", response.data.token);\n          localStorage.setItem(\"telefone\", response.data.dados.telefone);\n          localStorage.setItem(\"descricao\", response.data.dados.descricao);\n          this.props.history.push('/');\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n\n      this.render();\n    };\n\n    this.state = {\n      profileImage: '',\n      userData: {\n        nomeCompleto: localStorage.getItem('nomeCompleto'),\n        telefone: localStorage.getItem('telefone'),\n        email: localStorage.getItem('email'),\n        idUsuario: localStorage.getItem('idUsuario'),\n        descricao: localStorage.getItem('descricao')\n      }\n    }; // this.url = 'http://localhost:3001/registrar' Colocar a Url do back aqui\n\n    this.userData = {\n      telefone: localStorage.getItem(\"telefone\"),\n      descricao: localStorage.getItem(\"descricao\"),\n      location: ''\n    };\n  } // constructor(props) {\n  //     super(props)\n  //     this.state = {\n  //         descricao: '',\n  //         phone: '',\n  //         password: '',\n  //         errPhone: ''\n  //     }\n  // }\n\n\n  validate() {\n    var isCorrect = true;\n\n    if (this.state.phone.replace(/\\D/gim, '').length < 10) {\n      isCorrect = false;\n      this.setState({\n        errPhone: \"Telefone Inválido\"\n      });\n    }\n\n    if (isCorrect) {\n      this.setState({\n        errPhone: \"\"\n      });\n      this.userData.descricao = this.state.descricao;\n      this.userData.telefone = this.state.phone.replace(/\\D/gim, '');\n    }\n\n    return isCorrect;\n  }\n\n  render() {\n    const {\n      phone,\n      errPhone,\n      descricao,\n      location\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(GlobalStyle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }, \"ATUALIZAR PERFIL\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }, \"Atualize seus dados e aumente suas chances de ser contratado!\"), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, \"Descri\\xE7\\xE3o:\", /*#__PURE__*/React.createElement(Input, {\n      type: \"textArea\",\n      id: \"descricao\",\n      name: \"descricao\",\n      placeholder: \"Fale sobre os seus servi\\xE7os...\",\n      value: descricao,\n      onChange: this.handleDescricaoChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }, \"Telefone:\", /*#__PURE__*/React.createElement(Input2Mask, {\n      type: \"text\",\n      id: \"phone\",\n      name: \"phone\",\n      alwaysShowMask: \"true\",\n      mask: \"(99) 99999-9999\",\n      value: phone,\n      onChange: this.handlePhoneChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, \"Enviar\"))), /*#__PURE__*/React.createElement(Footer, {\n      orange: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default AtualizarPerfil;","map":{"version":3,"sources":["/home/bebeto/Documentos/MDS/ObraCerta/front/src/pages/AtualizarPerfil/index.js"],"names":["React","Component","axios","Button","Input","Footer","GlobalStyle","Space","Input2Mask","AtualizarPerfil","constructor","props","handleDescricaoChange","event","setState","description","target","value","handlePhoneChange","phone","handleSubmit","preventDefault","valid","validate","headers","post","url","userData","then","response","handleLogin","data","dados","localStorage","setItem","token","telefone","descricao","history","push","catch","error","console","log","render","state","profileImage","nomeCompleto","getItem","email","idUsuario","location","isCorrect","replace","length","errPhone"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport Button from '../../components/Button';\nimport Input from '../../components/Input';\nimport Footer from '../../components/Footer';\nimport GlobalStyle from './styles';\nimport Space from '../../components/Space';\nimport Input2Mask from '../../components/InputMask';\n\n\nclass AtualizarPerfil extends Component {\n\n\n    constructor(props){\n\n        super(props);\n\n        this.state = {\n            profileImage: '',\n            userData: {\n                nomeCompleto: localStorage.getItem('nomeCompleto'),\n                telefone: localStorage.getItem('telefone'),\n                email: localStorage.getItem('email'),\n                idUsuario: localStorage.getItem('idUsuario'),\n                descricao: localStorage.getItem('descricao')\n            }\n        }\n\n        // this.url = 'http://localhost:3001/registrar' Colocar a Url do back aqui\n\n        this.userData = {\n            telefone: localStorage.getItem(\"telefone\"),\n            descricao: localStorage.getItem(\"descricao\"),\n            location: ''\n        }\n\n\n    }\n\n    // constructor(props) {\n    //     super(props)\n\n    //     this.state = {\n    //         descricao: '',\n    //         phone: '',\n    //         password: '',\n    //         errPhone: ''\n\n    //     }\n\n\n    // }\n    validate() {\n        var isCorrect = true\n\n        if (this.state.phone.replace(/\\D/gim, '').length < 10) {\n            isCorrect = false\n            this.setState({\n                errPhone: \"Telefone Inválido\"\n            })\n        }\n\n        if (isCorrect) {\n\n            this.setState({\n                errPhone: \"\"\n            })\n            this.userData.descricao = this.state.descricao;\n            this.userData.telefone = this.state.phone.replace(/\\D/gim, '');\n\n        }\n        return isCorrect\n    }\n\n\n    handleDescricaoChange = event => {\n        this.setState({\n            description: event.target.value\n        })\n    }\n\n\n    handlePhoneChange = event => {\n        this.setState({\n            phone: event.target.value\n        })\n    }\n\n\n    handleSubmit = event => {\n        event.preventDefault()\n        var valid = this.validate()\n        const headers = {\n            'content-type': 'application/json',\n        }\n\n        if (valid) {\n            axios.post(this.url, this.userData, headers)\n                .then(response => {\n                    this.props.handleLogin(response.data.dados);\n                    localStorage.setItem(\"token\",response.data.token)\n                    localStorage.setItem(\"telefone\",response.data.dados.telefone)\n                    localStorage.setItem(\"descricao\", response.data.dados.descricao)\n\n                    this.props.history.push('/');\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n\n        }\n        this.render()\n\n    }\n\n    render() {\n        const { phone, errPhone, descricao, location } = this.state\n        return (\n            <>\n                <GlobalStyle />\n                <main>\n                    <h1>ATUALIZAR PERFIL</h1>\n                    <form onSubmit={this.handleSubmit}>\n                        <p>Atualize seus dados e aumente suas chances de ser contratado!</p>\n                        <Space />\n                        <label>Descrição:\n                        <Input\n                                type=\"textArea\"\n                                id=\"descricao\"\n                                name=\"descricao\"\n                                placeholder=\"Fale sobre os seus serviços...\"\n                                value={descricao}\n                                onChange={this.handleDescricaoChange}\n                            />\n                        </label>\n                        <Space />\n\n                        <Space />\n                        <label>Telefone:\n                        <Input2Mask\n                                type=\"text\"\n                                id=\"phone\"\n                                name=\"phone\"\n                                alwaysShowMask=\"true\"\n                                mask=\"(99) 99999-9999\"\n\n                                value={phone}\n                                onChange={this.handlePhoneChange}\n                            />\n                            {/* <Alert>{errPhone}</Alert> */}\n                        </label>\n                        <Space />\n\n                        <Button>Enviar</Button>\n                    </form>\n                </main>\n                <Footer orange />\n            </>\n        )\n    }\n}\n\nexport default AtualizarPerfil\n"]},"metadata":{},"sourceType":"module"}