{"ast":null,"code":"var _jsxFileName = \"/home/matheus/Documents/UNB/MDS/ObraCerta/front/src/pages/Cadastro/index.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Button from '../../components/Button';\nimport Input from '../../components/Input';\nimport Footer from '../../components/Footer';\nimport GlobalStyle from './styles';\nimport Space from '../../components/Space';\nimport Input2Mask from '../../components/InputMask';\n\nclass Cadastro extends Component {\n  // Essa classe Cadastro funciona como página de cadastro, possui 3 atributos state,url e UserData.\n  // state consiste no conjunto de estados da tela, desde os inputs do usuario até os erros possiveis\n  // url é a rota que será usada para requisições ao back\n  // UserData são os dados do novo usuário já validados, separados para o envio da requisição\n  constructor(props) {\n    super(props);\n\n    this.handleTermsClicked = () => {\n      this.setState({\n        terms: !this.state.terms\n      });\n    };\n\n    this.handleNameChange = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.handleEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlePasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handlePhoneChange = event => {\n      this.setState({\n        phone: event.target.value\n      });\n    };\n\n    this.handleConfirmPasswordChange = event => {\n      this.setState({\n        confirm_password: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      var valid = this.validate();\n      const headers = {\n        'content-type': 'application/json'\n      };\n\n      if (valid) {\n        axios.post(this.url, this.userData, headers).then(response => {\n          this.props.handleLogin(response.data.dados);\n          localStorage.setItem(\"token\", response.data.token);\n          localStorage.setItem(\"LOGGED_IN\", true);\n          localStorage.setItem(\"name\", response.data.dados.nomeCompleto);\n          localStorage.setItem(\"email\", response.data.dados.email);\n          localStorage.setItem(\"telefone\", response.data.dados.telefone);\n          this.props.history.push('/');\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n\n      this.render();\n    };\n\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      phone: '',\n      confirm_password: '',\n      terms: false,\n      errEmail: '',\n      errPassword: '',\n      errConfirmPassword: '',\n      errTerms: '',\n      errPhone: ''\n    };\n    this.url = 'http://localhost:3001/registrar'; // Colocar a Url do back aqui\n\n    this.userData = {\n      nomeCompleto: '',\n      email: '',\n      senha: '',\n      telefone: ''\n    };\n  }\n\n  validate() {\n    var isCorrect = true;\n    let initial = this.state.email.substring(0, this.state.email.indexOf(\"@\"));\n    let domain = this.state.email.substring(this.state.email.indexOf(\"@\") + 1, this.state.email.length);\n\n    if (initial.length >= 1 && domain.length >= 3 && initial.search(\"@\") === -1 && domain.search(\"@\") === -1 && initial.search(\" \") === -1 && domain.search(\" \") === -1 && domain.search(\".\") !== -1 && domain.indexOf(\".\") >= 1 && domain.lastIndexOf(\".\") < domain.length - 1) {\n      // isCorrect = true;\n      this.setState({\n        errEmail: ''\n      });\n    } else {\n      isCorrect = false;\n      this.setState({\n        errEmail: \"Email inválido\"\n      });\n    }\n\n    if (this.state.phone.replace(/\\D/gim, '').length < 10) {\n      isCorrect = false;\n      this.setState({\n        errPhone: \"Telefone Inválido\"\n      });\n    } else {\n      this.setState({\n        errPhone: \"\"\n      });\n    }\n\n    if (this.state.password.length < 6) {\n      isCorrect = false;\n      this.setState({\n        errPassword: \"Sua senha deve possuir no minimo 6 digitos!\"\n      });\n    }\n\n    if (this.state.password !== this.state.confirm_password) {\n      isCorrect = false;\n      this.setState({\n        errConfirmPassword: \"As senhas não correspodem\"\n      });\n    }\n\n    if (!this.state.terms) {\n      isCorrect = false;\n      this.setState({\n        errTerms: \"Você precisa concordar com os termos de uso!\"\n      });\n    }\n\n    if (isCorrect) {\n      this.setState({\n        errEmail: ''\n      });\n      this.setState({\n        errConfirmPassword: ''\n      });\n      this.setState({\n        errPassword: ''\n      });\n      this.userData.nomeCompleto = this.state.name;\n      this.userData.email = this.state.email;\n      this.userData.senha = this.state.password;\n      this.userData.telefone = this.state.phone.replace(/\\D/gim, '');\n    }\n\n    return isCorrect;\n  }\n\n  render() {\n    const {\n      name,\n      email,\n      password,\n      phone,\n      confirm_password,\n      terms,\n      errEmail,\n      errPassword,\n      errConfirmPassword,\n      errTerms,\n      errPhone\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(GlobalStyle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }, \"CADASTRE-SE\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, \"Cadastre-se para ter acesso a melhor plataforma do mercado!\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 6\n      }\n    }, \"Nome:\", /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      id: \"name\",\n      name: \"name\",\n      placeholder: \"Digite seu nome\",\n      value: name,\n      onChange: this.handleNameChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 6\n      }\n    }, \"Email:\", /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      id: \"email\",\n      name: \"email\",\n      placeholder: \"Digite seu email\",\n      value: email,\n      onChange: this.handleEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }\n    }, errEmail), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 6\n      }\n    }, \"Telefone:\", /*#__PURE__*/React.createElement(Input2Mask, {\n      type: \"text\",\n      id: \"phone\",\n      name: \"phone\",\n      alwaysShowMask: \"true\",\n      mask: \"(99) 99999-9999\",\n      value: phone,\n      onChange: this.handlePhoneChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }, errPhone), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 6\n      }\n    }, \"Senha:\", /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      placeholder: \"Digite sua senha\",\n      value: password,\n      onChange: this.handlePasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 21\n      }\n    }, errPassword), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 6\n      }\n    }, \"Confirme sua senha:\", /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      id: \"confirm_password\",\n      name: \"confirm_password\",\n      placeholder: \"Confirme sua senha\",\n      value: confirm_password,\n      onChange: this.handleConfirmPasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 21\n      }\n    }, errConfirmPassword), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"user-terms\",\n      type: \"checkbox\",\n      name: \"terms\",\n      onClick: this.handleTermsClicked,\n      value: terms,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }), \"Li e aceito os \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/termosdeuso\",\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 32\n      }\n    }, \"termos de uso\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }, errTerms), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }\n    }, \"Enviar\")))), /*#__PURE__*/React.createElement(Footer, {\n      orange: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default Cadastro;","map":{"version":3,"sources":["/home/matheus/Documents/UNB/MDS/ObraCerta/front/src/pages/Cadastro/index.js"],"names":["React","Component","axios","Button","Input","Footer","GlobalStyle","Space","Input2Mask","Cadastro","constructor","props","handleTermsClicked","setState","terms","state","handleNameChange","event","name","target","value","handleEmailChange","email","handlePasswordChange","password","handlePhoneChange","phone","handleConfirmPasswordChange","confirm_password","handleSubmit","preventDefault","valid","validate","headers","post","url","userData","then","response","handleLogin","data","dados","localStorage","setItem","token","nomeCompleto","telefone","history","push","catch","error","console","log","render","errEmail","errPassword","errConfirmPassword","errTerms","errPhone","senha","isCorrect","initial","substring","indexOf","domain","length","search","lastIndexOf","replace"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport axios from 'axios';\nimport Button from '../../components/Button';\nimport Input from '../../components/Input';\nimport Footer from '../../components/Footer';\nimport GlobalStyle from './styles';\nimport Space from '../../components/Space';\nimport Input2Mask from '../../components/InputMask';\n\nclass Cadastro extends Component {\n// Essa classe Cadastro funciona como página de cadastro, possui 3 atributos state,url e UserData.\n// state consiste no conjunto de estados da tela, desde os inputs do usuario até os erros possiveis\n// url é a rota que será usada para requisições ao back\n// UserData são os dados do novo usuário já validados, separados para o envio da requisição\n\n    constructor(props){\n        super(props)\n\n        this.state = {\n            name: '',\n            email:'',\n            password:'',\n            phone: '',\n            confirm_password:'',\n            terms: false,\n            errEmail: '',\n            errPassword:'',\n            errConfirmPassword: '',\n            errTerms: '',\n            errPhone: ''\n\n        }\n\n        this.url = 'http://localhost:3001/registrar'// Colocar a Url do back aqui\n\n        this.userData = {\n            nomeCompleto : '',\n            email : '',\n            senha : '',\n            telefone: ''\n        }\n    }\n\n    validate(){\n        var isCorrect = true\n        let initial = this.state.email.substring(0,this.state.email.indexOf(\"@\"));\n        let domain = this.state.email.substring(this.state.email.indexOf(\"@\")+1, this.state.email.length);\n        if ((initial.length >=1) &&\n            (domain.length >=3) &&\n            (initial.search(\"@\")===-1) &&\n            (domain.search(\"@\")===-1) &&\n            (initial.search(\" \")===-1) &&\n            (domain.search(\" \")===-1) &&\n            (domain.search(\".\")!==-1) &&\n            (domain.indexOf(\".\") >=1)&&\n            (domain.lastIndexOf(\".\") < domain.length - 1)){\n                // isCorrect = true;\n                this.setState({\n                    errEmail: ''\n                })\n\n            }\n            else{\n                isCorrect = false;\n                this.setState({\n                    errEmail: \"Email inválido\"\n                })\n            }\n        if (this.state.phone.replace(/\\D/gim, '').length < 10){\n            isCorrect = false\n            this.setState({\n                errPhone: \"Telefone Inválido\"\n            })\n        }else{\n            this.setState({\n                errPhone: \"\"\n            })\n        }\n        if (this.state.password.length < 6){\n            isCorrect = false\n            this.setState({\n                errPassword: \"Sua senha deve possuir no minimo 6 digitos!\"\n            })\n\n        }\n        if (this.state.password !== this.state.confirm_password) {\n            isCorrect = false\n            this.setState({\n                errConfirmPassword: \"As senhas não correspodem\"\n            })\n        }\n        if(!this.state.terms){\n            isCorrect = false\n            this.setState({\n                errTerms: \"Você precisa concordar com os termos de uso!\"\n            })\n        }\n        if(isCorrect){\n            this.setState({\n                errEmail: ''\n            })\n            this.setState({\n                errConfirmPassword : ''\n            })\n            this.setState({\n                errPassword : ''\n            })\n            this.userData.nomeCompleto = this.state.name;\n            this.userData.email = this.state.email;\n            this.userData.senha = this.state.password;\n            this.userData.telefone = this.state.phone.replace(/\\D/gim, '');\n\n        }\n        return isCorrect\n    }\n\n    handleTermsClicked = () => {\n        this.setState({\n            terms: !this.state.terms\n        })\n    }\n\n\thandleNameChange = event => {\n\t\tthis.setState({\n\t\t\tname: event.target.value\n\t\t})\n\t}\n\n\thandleEmailChange = event => {\n\t\tthis.setState({\n\t\t\temail: event.target.value\n\t\t})\n\t}\n\n\thandlePasswordChange = event => {\n\t\tthis.setState({\n\t\t\tpassword: event.target.value\n\t\t})\n\t}\n\n\thandlePhoneChange = event => {\n\t\tthis.setState({\n\t\t\tphone: event.target.value\n\t\t})\n\t}\n\n\thandleConfirmPasswordChange = event => {\n\t\tthis.setState({\n\t\t\tconfirm_password: event.target.value\n\t\t})\n\t}\n\n\thandleSubmit = event => {\n\t\tevent.preventDefault()\n        var valid = this.validate()\n        const headers = {\n            'content-type': 'application/json',\n        }\n        if (valid){\n            axios.post(this.url,this.userData, headers)\n                .then( response => {\n                    this.props.handleLogin(response.data.dados);\n                    localStorage.setItem(\"token\",response.data.token)\n                    localStorage.setItem(\"LOGGED_IN\",true)\n                    localStorage.setItem(\"name\",response.data.dados.nomeCompleto)\n                    localStorage.setItem(\"email\",response.data.dados.email)\n                    localStorage.setItem(\"telefone\",response.data.dados.telefone)\n                    this.props.history.push('/');\n                } )\n                .catch( error => {\n                    console.log(error)\n                } )\n\n        }\n        this.render()\n\n\t}\n\n\trender() {\n        const {name,email,password,phone,confirm_password,terms,errEmail,errPassword,errConfirmPassword,errTerms, errPhone} = this.state\n\t\treturn (\n            <>\n            <GlobalStyle/>\n            <main>\n            <h1>CADASTRE-SE</h1>\n            <p>Cadastre-se para ter acesso a melhor plataforma do mercado!</p>\n\t\t\t<form onSubmit={this.handleSubmit}>\n                <Space/>\n\t\t\t\t\t<label>Nome:\n                        <Input\n                            type=\"text\"\n                            id=\"name\"\n                            name=\"name\"\n                            placeholder = \"Digite seu nome\"\n                            value={name}\n                            onChange={this.handleNameChange}\n                        />\n                    </label>\n                <Space/>\n\t\t\t\t\t<label>Email:\n                        <Input\n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            placeholder = \"Digite seu email\"\n                            value={email}\n                            onChange={this.handleEmailChange}\n                        />\n                    </label>\n                    <div>\n                        {errEmail}\n                    </div>\n                <Space/>\n\t\t\t\t\t<label>Telefone:\n                        <Input2Mask\n                            type=\"text\"\n                            id=\"phone\"\n                            name=\"phone\"\n                            alwaysShowMask = \"true\"\n                            mask = \"(99) 99999-9999\"\n\n                            value={phone}\n                            onChange={this.handlePhoneChange}\n                        />\n                    </label>\n                    <div>{errPhone}</div>\n                <Space/>\n\t\t\t\t\t<label>Senha:\n                        <Input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            placeholder = \"Digite sua senha\"\n                            value={password}\n                            onChange={this.handlePasswordChange}\n                        />\n                    </label>\n                    <div>{errPassword}</div>\n                <Space/>\n\t\t\t\t\t<label>Confirme sua senha:\n                        <Input\n                            type=\"password\"\n                            id=\"confirm_password\"\n                            name=\"confirm_password\"\n                            placeholder = \"Confirme sua senha\"\n                            value={confirm_password}\n                            onChange={this.handleConfirmPasswordChange}\n                        />\n                    </label>\n                    <div>{errConfirmPassword}</div>\n\n                <Space/>\n                <label>\n                <input id = \"user-terms\" type = \"checkbox\" name = \"terms\" onClick = {this.handleTermsClicked} value={terms}/>\n                Li e aceito os <a href=\"/termosdeuso\" target=\"_blank\">termos de uso</a>\n                </label>\n                <div>{errTerms}</div>\n\n                <div>\n                <Space/>\n                <Button>Enviar</Button>\n                </div>\n\t\t\t</form>\n            </main>\n            <Footer orange />\n            </>\n\t\t)\n\t}\n}\n\nexport default Cadastro\n"]},"metadata":{},"sourceType":"module"}