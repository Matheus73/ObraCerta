{"ast":null,"code":"var _jsxFileName = \"/home/matheus/Documents/UNB/MDS/ObraCerta/front/src/pages/Usuario/index.js\";\nimport React, { Component } from 'react';\nimport Button from '../../components/Button';\nimport { SiWhatsapp } from 'react-icons/si';\nimport Card from '../../components/Card';\nimport Space from '../../components/Space';\nimport ProfileCard from '../../components/ProfileCard';\nimport CardGroup from '../../components/CardGroup';\nimport createHistory from 'history/createBrowserHistory';\nimport AliceCarousel from 'react-alice-carousel';\nimport PageDefault from '../PageDefault';\nimport InputTextArea from '../../components/InputTextArea';\nimport 'react-alice-carousel/lib/alice-carousel.css';\nimport api from '../../services/api';\n\nclass PerfilUsuario extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleComent = e => {\n      this.setState({\n        addComent: e\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let url = \"/\" + this.userData.idUsuario + \"/comentar\";\n      let submit = {\n        conteudo: this.state.addComent\n      };\n      api.put(url, submit, {\n        headers: {\n          'authorization': localStorage.getItem('token')\n        }\n      }).then(response => {\n        console.log(response); // this.props.history.push('/')\n\n        api.get('/perfil/' + this.userData.idUsuario).then(response => {\n          let aux1 = [];\n          console.log(response.data);\n\n          for (let j in response.data.comments) {\n            let com = response.data.comments[j].conteudo;\n            aux1.push( /*#__PURE__*/React.createElement(ProfileCard, {\n              src: \"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.pngitem.com%2Fpimgs%2Fm%2F247-2472306_admin-anonymous-person-icon-hd-png-download.png&f=1&nofb=1\",\n              title: \"Anonimo\" + j,\n              description: com,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 31\n              }\n            }));\n          }\n\n          this.comments = aux1;\n          console.log(this.comments);\n          alert(\"Comentario postado!\");\n          this.render();\n        }).catch(error => {\n          console.log(error);\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      addComent: ''\n    };\n    this.userData = '';\n    this.posts = '';\n    this.comments = [];\n    let history = createHistory();\n    let data = history.location.state; // console.log(data)\n\n    this.userData = data[0][0];\n    this.posts = data[1];\n    console.log(this.userData); // console.log(this.posts)\n\n    let imgs = [];\n\n    for (let i in this.posts) {\n      let nomeImagem = this.posts[i].url;\n      imgs.push( /*#__PURE__*/React.createElement(\"img\", {\n        src: nomeImagem,\n        width: 960,\n        height: 500,\n        alt: \"Publica\\xE7\\xE3o\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 23\n        }\n      }));\n    }\n\n    this.posts = imgs;\n    let aux = [];\n\n    for (let j in this.userData.comments) {\n      let com = this.userData.comments[j].conteudo;\n      aux.push( /*#__PURE__*/React.createElement(ProfileCard, {\n        src: \"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.pngitem.com%2Fpimgs%2Fm%2F247-2472306_admin-anonymous-person-icon-hd-png-download.png&f=1&nofb=1\",\n        title: \"Anonimo\" + j,\n        description: com,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 22\n        }\n      }));\n    }\n\n    this.comments = aux;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageDefault, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, this.userData.nomeCompleto), /*#__PURE__*/React.createElement(ProfileCard, {\n      src: this.userData.imagemPerfil,\n      title: \"Descri\\xE7\\xE3o:\",\n      description: this.userData.descricao || \"Sem descrição\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Space, {\n      size: \"10px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(CardGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 32\n      }\n    }, \"Categoria:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 59\n      }\n    }), this.userData.categoria || \"Não definido\")), /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 32\n      }\n    }, \"Telefone:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 58\n      }\n    }), this.userData.telefone ? /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://web.whatsapp.com/send?1=pt_BR&phone=phone=55\" + this.userData.telefone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(SiWhatsapp, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 45\n      }\n    }), \" \", this.userData.telefone) : \"Não definido\")), /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 32\n      }\n    }, \"Regi\\xE3o:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 56\n      }\n    }), this.userData.localidade || \"Não definido\"))), this.posts.length !== 0 && /*#__PURE__*/React.createElement(\"div\", {\n      id: \"carrossel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, \"Publica\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(AliceCarousel, {\n      mouseTracking: true,\n      items: this.posts,\n      infinite: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    })), this.comments.length !== 0 && this.comments, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"Adicionar um coment\\xE1rio:\"), /*#__PURE__*/React.createElement(InputTextArea, {\n      placeholder: \"Adicionar um coment\\xE1rio...\",\n      onChange: e => {\n        this.handleComent(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, \"Comentar\")))));\n  }\n\n}\n\nexport default PerfilUsuario;","map":{"version":3,"sources":["/home/matheus/Documents/UNB/MDS/ObraCerta/front/src/pages/Usuario/index.js"],"names":["React","Component","Button","SiWhatsapp","Card","Space","ProfileCard","CardGroup","createHistory","AliceCarousel","PageDefault","InputTextArea","api","PerfilUsuario","constructor","props","handleComent","e","setState","addComent","handleSubmit","preventDefault","url","userData","idUsuario","submit","conteudo","state","put","headers","localStorage","getItem","then","response","console","log","get","aux1","data","j","comments","com","push","alert","render","catch","error","posts","history","location","imgs","i","nomeImagem","aux","nomeCompleto","imagemPerfil","descricao","categoria","telefone","localidade","length","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Button from '../../components/Button';\nimport {SiWhatsapp} from 'react-icons/si';\nimport Card from '../../components/Card';\nimport Space from '../../components/Space';\nimport ProfileCard from '../../components/ProfileCard';\nimport CardGroup from '../../components/CardGroup';\nimport createHistory from 'history/createBrowserHistory';\nimport AliceCarousel from 'react-alice-carousel';\nimport PageDefault from '../PageDefault';\nimport InputTextArea from '../../components/InputTextArea';\nimport 'react-alice-carousel/lib/alice-carousel.css';\nimport api from '../../services/api';\n\nclass PerfilUsuario extends Component {\n    constructor(props){\n        super(props);\n\n        this.state = {\n            addComent : ''\n        }\n        this.userData = '';\n        this.posts = '';\n        this.comments =[];\n\n        let history = createHistory();\n        let data = history.location.state;\n        // console.log(data)\n        this.userData = data[0][0];\n        this.posts = data[1];\n        console.log(this.userData)\n        // console.log(this.posts)\n\n        let imgs = []\n        for(let i in this.posts){\n            let nomeImagem = this.posts[i].url\n            imgs.push(<img src={nomeImagem} width={960} height={500} alt=\"Publicação\"/>)\n        }\n        this.posts = imgs;\n\n        let aux = [];\n        for(let j in this.userData.comments){\n            let com = this.userData.comments[j].conteudo\n            aux.push(<ProfileCard src=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.pngitem.com%2Fpimgs%2Fm%2F247-2472306_admin-anonymous-person-icon-hd-png-download.png&f=1&nofb=1\" title={\"Anonimo\" + j} description={com}/>)\n        }\n        this.comments = aux;\n    }\n\n    handleComent = (e) => {\n        this.setState({\n            addComent : e\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        let url =  \"/\" + this.userData.idUsuario + \"/comentar\";\n        let submit = {\n            conteudo: this.state.addComent\n        };\n        api.put(url,submit,{\n                headers:{\n                    'authorization': localStorage.getItem('token')\n                }\n            })\n        .then(response => {\n            console.log(response)\n            // this.props.history.push('/')\n            api.get('/perfil/' + this.userData.idUsuario)\n            .then((response) => {\n                let aux1 = [];\n                console.log(response.data)\n                for(let j in response.data.comments){\n                    let com = response.data.comments[j].conteudo\n                    aux1.push(<ProfileCard src=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.pngitem.com%2Fpimgs%2Fm%2F247-2472306_admin-anonymous-person-icon-hd-png-download.png&f=1&nofb=1\" title={\"Anonimo\" + j} description={com}/>)\n                }\n                this.comments = aux1;\n                console.log(this.comments)\n                alert(\"Comentario postado!\")\n                this.render()\n            })\n            .catch((error) => {\n                console.log(error)\n            });\n        })\n        .catch(error => {\n            console.log(error)\n        })\n    }\n\n\n    render() {\n        return (\n            <>\n            <PageDefault>\n                <main>\n                    <Space/>\n                    <h2>{this.userData.nomeCompleto}</h2>\n                    <ProfileCard\n                        src={this.userData.imagemPerfil}\n                        title=\"Descrição:\"\n                        description={this.userData.descricao || \"Sem descrição\"}\n                    />\n                    <Space size=\"10px\"/>\n                    <CardGroup>\n                        <Card>\n                            <p><strong>Categoria:</strong><br/>\n                            {this.userData.categoria || \"Não definido\"}</p>\n                        </Card>\n                        <Card>\n                            <p><strong>Telefone:</strong><br/>\n                                {this.userData.telefone ?\n                                        <a href={\"https://web.whatsapp.com/send?1=pt_BR&phone=phone=55\" + this.userData.telefone}>\n                                            <SiWhatsapp/> {this.userData.telefone}\n                                        </a>\n                                        :\"Não definido\"}</p>\n                        </Card>\n                        <Card>\n                            <p><strong>Região:</strong><br/>\n                            {this.userData.localidade || \"Não definido\"}</p>\n                        </Card>\n                    </CardGroup>\n                    {this.posts.length !== 0 &&\n                    <div id=\"carrossel\">\n                        <h2>Publicações</h2>\n                        <AliceCarousel mouseTracking items={this.posts}  infinite={true}/>\n                    </div>\n                    }\n                    {this.comments.length !== 0 && this.comments }\n                    <form onSubmit={this.handleSubmit}>\n                        <Space/>\n                        <h4>Adicionar um comentário:</h4>\n                        <InputTextArea placeholder=\"Adicionar um comentário...\" onChange={(e) => {\n                            this.handleComent(e.target.value)\n                        }}/>\n                        <Space/>\n                        <Button type=\"submit\">Comentar</Button>\n                    </form>\n\n\n                </main>\n                </PageDefault>\n            </>\n        )\n    }\n}\n\nexport default PerfilUsuario;\n"]},"metadata":{},"sourceType":"module"}