{"ast":null,"code":"var _jsxFileName = \"/home/matheus/Documents/UNB/MDS/ObraCerta/front/src/pages/Login/index.js\";\nimport React, { Component } from 'react';\nimport Button from '../../components/Button';\nimport Input from '../../components/Input';\nimport axios from 'axios';\nimport Footer from '../../components/Footer';\nimport GlobalStyle from './styles';\nimport Space from '../../components/Space';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlePasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.userData.email = this.state.email;\n      this.userData.senha = this.state.password;\n      axios.post(this.url, this.userData).then(response => {\n        this.props.handleLogin(response.data.dados);\n        sessionStorage.setItem(\"token\", response.data.token);\n        sessionStorage.setItem(\"loggedIn\", \"LOGGED_IN\");\n        sessionStorage.setItem(\"name\", response.data.dados.nomeCompleto);\n        sessionStorage.setItem(\"email\", response.data.dados.email);\n        sessionStorage.setItem(\"telefone\", response.data.dados.telefone);\n        this.props.history.push('/');\n      }).catch(error => {\n        console.log(error);\n        this.setState({\n          err: \"O usuário não existe ou a senha está incorreta\"\n        });\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      err: ''\n    };\n    this.url = 'http://localhost:3001/login';\n    this.userData = {\n      senha: '',\n      email: ''\n    };\n  }\n\n  render() {\n    const {\n      email,\n      password,\n      err\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(GlobalStyle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, \"Entre para encontrar os melhores profissionais para sua obra ou para divulgar o seu trabalho!\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }, err)), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, \"Email:\", /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      id: \"email\",\n      name: \"email\",\n      placeholder: \"Digite seu email\",\n      value: email,\n      onChange: this.handleEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, \"Senha:\", /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      placeholder: \"Digite sua senha\",\n      value: password,\n      onChange: this.handlePasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }, \"Enviar\")))), /*#__PURE__*/React.createElement(Footer, {\n      orange: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/matheus/Documents/UNB/MDS/ObraCerta/front/src/pages/Login/index.js"],"names":["React","Component","Button","Input","axios","Footer","GlobalStyle","Space","Login","constructor","props","handleEmailChange","event","setState","email","target","value","handlePasswordChange","password","handleSubmit","preventDefault","userData","state","senha","post","url","then","response","handleLogin","data","dados","sessionStorage","setItem","token","nomeCompleto","telefone","history","push","catch","error","console","log","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Button from '../../components/Button';\nimport Input from '../../components/Input';\nimport axios from 'axios';\nimport Footer from '../../components/Footer';\nimport GlobalStyle from './styles';\nimport Space from '../../components/Space';\n\nclass Login extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            email: '',\n            password: '',\n            err: ''\n        }\n\n        this.url = 'http://localhost:3001/login'\n\n        this.userData = {\n            senha: '',\n            email: ''\n        }\n    }\n\n    handleEmailChange = event => {\n        this.setState({\n            email: event.target.value\n        })\n    }\n\n    handlePasswordChange = event => {\n        this.setState({\n            password: event.target.value\n        })\n    }\n\n    handleSubmit = event => {\n        event.preventDefault()\n        this.userData.email = this.state.email;\n        this.userData.senha = this.state.password;\n\n        axios.post(this.url, this.userData)\n            .then(response => {\n                this.props.handleLogin(response.data.dados);\n                sessionStorage.setItem(\"token\",response.data.token)\n                sessionStorage.setItem(\"loggedIn\",\"LOGGED_IN\")\n                sessionStorage.setItem(\"name\",response.data.dados.nomeCompleto)\n                sessionStorage.setItem(\"email\",response.data.dados.email)\n                sessionStorage.setItem(\"telefone\",response.data.dados.telefone)\n                this.props.history.push('/');\n            })\n            .catch(error => {\n                console.log(error)\n                this.setState({\n                    err: \"O usuário não existe ou a senha está incorreta\"\n                })\n            })\n    }\n\n    render() {\n        const { email, password, err } = this.state\n        return (\n            <>\n                <GlobalStyle />\n                <main>\n                    <h1>Login</h1>\n                    <p>Entre para encontrar os melhores profissionais para sua obra ou para divulgar o seu trabalho!</p>\n                    <form onSubmit={this.handleSubmit}>\n                        <div id=\"warning\">\n                            <p>{err}</p>\n                        </div>\n                        <Space />\n                        <label>Email:\n                        <Input\n                                type=\"email\"\n                                id=\"email\"\n                                name=\"email\"\n                                placeholder=\"Digite seu email\"\n                                value={email}\n                                onChange={this.handleEmailChange}\n                            />\n                        </label>\n                        <Space />\n                        <label>Senha:\n                        <Input\n                                type=\"password\"\n                                id=\"password\"\n                                name=\"password\"\n                                placeholder=\"Digite sua senha\"\n                                value={password}\n                                onChange={this.handlePasswordChange}\n                            />\n                        </label>\n                        <Space />\n                        <div>\n                            <Space />\n                            <Button>Enviar</Button>\n                        </div>\n                    </form>\n                </main>\n                <Footer orange />\n            </>\n        )\n    }\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}